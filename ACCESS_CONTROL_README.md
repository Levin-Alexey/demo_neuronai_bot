# –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–æ—Ç—É

## –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ –±–æ—Ç—É –Ω–∞ –±–∞–∑–µ –≤—Ä–µ–º–µ–Ω–∏. –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç **24 —á–∞—Å–∞** –¥–æ—Å—Ç—É–ø–∞ —Å –º–æ–º–µ–Ω—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥—ã `/start`.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã `/start`:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –ë–î (—Ç–∞–±–ª–∏—Ü–∞ `users`)
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª–µ `started_at` —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º (UTC)
- –≠—Ç–æ –≤—Ä–µ–º—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ—á–∫–æ–π –æ—Ç—Å—á–µ—Ç–∞ –¥–ª—è 24-—á–∞—Å–æ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
–°–æ–∑–¥–∞–Ω **Middleware** (`AccessCheckMiddleware`), –∫–æ—Ç–æ—Ä—ã–π:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –±–æ—Ç–æ–º
- –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É `/start` (—á—Ç–æ–±—ã –Ω–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è)
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø –∏—Å—Ç–µ–∫

### 3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏—Å—Ç–µ–∫—à–µ–º –¥–æ—Å—Ç—É–ø–µ
–ö–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø –∏—Å—Ç–µ–∫–∞–µ—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:
```
‚è∞ –î–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É –∏—Å—Ç–µ–∫

–í–∞—à –ø—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥ (24 —á–∞—Å–∞) –∑–∞–∫–æ–Ω—á–∏–ª—Å—è DD.MM.YYYY –≤ HH:MM.

üîπ –ß—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
üîπ –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /manager
```

–° –∫–Ω–æ–ø–∫–∞–º–∏:
- **üë§ –°–≤—è–∑–∞—Ç—å—Å—è —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º** - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä—É
- **üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç—É–ø–∞

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –¥–æ—Å—Ç—É–ø–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–π —Å—Ç–∞—Ç—É—Å –∫–Ω–æ–ø–∫–æ–π **"üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø"**:

**–ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø –∞–∫—Ç–∏–≤–µ–Ω:**
```
‚úÖ –î–æ—Å—Ç—É–ø –∞–∫—Ç–∏–≤–µ–Ω

‚è∞ –û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏: X —á. Y –º–∏–Ω.
üìÖ –î–æ—Å—Ç—É–ø –¥–æ: DD.MM.YYYY –≤ HH:MM

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞.
```

**–ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø –∏—Å—Ç–µ–∫:**
```
‚è∞ –î–æ—Å—Ç—É–ø –∏—Å—Ç–µ–∫

–î–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º.
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§—É–Ω–∫—Ü–∏–∏ –≤ models.py

#### `check_user_access(session, telegram_id) -> tuple[bool, datetime | None]`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ –±–æ—Ç—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `session` - SQLAlchemy —Å–µ—Å—Å–∏—è
- `telegram_id` - Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `tuple` - (–∏–º–µ–µ—Ç_–¥–æ—Å—Ç—É–ø: bool, –¥–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è_–¥–æ—Å—Ç—É–ø–∞: datetime | None)

**–õ–æ–≥–∏–∫–∞:**
```python
access_until = user.started_at + timedelta(hours=24)
has_access = now < access_until
```

### Middleware –≤ main.py

#### `AccessCheckMiddleware`
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ª—é–±–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è:**
- –ö–æ–º–∞–Ω–¥–∞ `/start` - –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –ë–î - –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è (failsafe)

**–î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –∏—Å—Ç–µ–∫—à–µ–º –¥–æ—Å—Ç—É–ø–µ:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∏—Å—Ç–µ–∫—à–µ–º –¥–æ—Å—Ç—É–ø–µ
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–≤—è–∑–∞—Ç—å—Å—è —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
- **–ë–ª–æ–∫–∏—Ä—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É** (return –±–µ–∑ –≤—ã–∑–æ–≤–∞ handler)

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ main.py

#### `check_access_status`
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø".

#### `contact_manager_expired`
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üë§ –°–≤—è–∑–∞—Ç—å—Å—è —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º" –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∏—Å—Ç–µ–∫—à–∏–º –¥–æ—Å—Ç—É–ø–æ–º.

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `users`
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    telegram_id BIGINT UNIQUE NOT NULL,
    started_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW()
);
```

**–ü–æ–ª—è:**
- `telegram_id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram
- `started_at` - –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ `/start` (UTC)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞

–í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ:

```python
local_time = access_until + timedelta(hours=3)  # MSK (UTC+3)
```

**–ò–∑–º–µ–Ω–∏—Ç–µ** –∑–Ω–∞—á–µ–Ω–∏–µ `hours=3` –Ω–∞ –≤–∞—à —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å:
- MSK (–ú–æ—Å–∫–≤–∞): `hours=3`
- UTC: `hours=0`
- EST (–í–æ—Å—Ç–æ–∫ –°–®–ê): `hours=-5`
- PST (–¢–∏—Ö–æ–æ–∫–µ–∞–Ω—Å–∫–æ–µ –ø–æ–±–µ—Ä–µ–∂—å–µ): `hours=-8`

## –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ
–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –º–æ–∂–Ω–æ:

1. **–û–±–Ω–æ–≤–∏—Ç—å `started_at`** –≤ –ë–î:
```python
from datetime import datetime, timezone
from models import get_session, User

with get_session() as session:
    user = session.query(User).filter_by(telegram_id=TELEGRAM_ID).first()
    if user:
        user.started_at = datetime.now(timezone.utc)
        session.commit()
```

2. **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `subscription_until`** –≤ –º–æ–¥–µ–ª—å User (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)

### –†—É—á–Ω–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ
–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –∏ –º–æ–∂–µ—Ç:
1. –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
2. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –≤ –ë–î –≤—Ä—É—á–Ω—É—é
3. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞—Ç–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É

## –†–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–ü–æ–¥–ø–∏—Å–∫–∏**
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `subscription_type` (trial, basic, premium)
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `subscription_until` —Å –¥–∞—Ç–æ–π –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ `started_at`, –Ω–æ –∏ `subscription_until`

2. **–£—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞**
   - –†–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –î–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–Ω—ã–º –º–æ–¥—É–ª—è–º (HR, IT, –∏ —Ç.–¥.)

3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞ 3 —á–∞—Å–∞ –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞
   - –†–∞—Å—Å—ã–ª–∫–∞ –æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö

4. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–∞ –ø–µ—Ä–∏–æ–¥ –¥–æ—Å—Ç—É–ø–∞
   - –û—Ç—á–µ—Ç—ã –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –æ "–≥–æ—Ä—è—á–∏—Ö" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö

5. **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**
   - +24 —á–∞—Å–∞ –∑–∞ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –¥—Ä—É–≥–∞
   - –ë–æ–Ω—É—Å—ã –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

1. **–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
   ```
   /start ‚Üí –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí 24 —á–∞—Å–∞ –¥–æ—Å—Ç—É–ø–∞
   ```

2. **–ê–∫—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø:**
   ```
   –õ—é–±–∞—è –∫–Ω–æ–ø–∫–∞ ‚Üí –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–æ—Ç–∞
   üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è
   ```

3. **–ò—Å—Ç–µ–∫—à–∏–π –¥–æ—Å—Ç—É–ø:**
   ```
   –õ—é–±–∞—è –∫–Ω–æ–ø–∫–∞ ‚Üí –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –∏—Å—Ç–µ–∫—à–µ–º –¥–æ—Å—Ç—É–ø–µ
   üë§ –°–≤—è–∑–∞—Ç—å—Å—è —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º ‚Üí –§–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
   ```

4. **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π /start:**
   ```
   /start ‚Üí –†–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞, –Ω–æ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç started_at
   ```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ë–î** - –ø—Ä–∏ –æ—à–∏–±–∫–µ –¥–æ—Å—Ç—É–ø –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è (failsafe)
2. **Timezone-aware datetime** - –≤—Å–µ –¥–∞—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ UTC
3. **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–π `/start` –Ω–µ –º–µ–Ω—è–µ—Ç `started_at`
4. **SQL-injection** - –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ SQLAlchemy ORM

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î (`DATABASE_URL` –≤ `.env`)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ middleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω: `dp.message.middleware(AccessCheckMiddleware())`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `print(f"Access check error: {e}")`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –≤ –∫–æ–¥–µ
